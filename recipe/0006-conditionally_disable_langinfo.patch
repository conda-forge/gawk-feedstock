diff --git a/support/regex_internal.h b/support/regex_internal.h
index 57a455b1..8c179389 100644
--- a/support/regex_internal.h
+++ b/support/regex_internal.h
@@ -25,7 +25,9 @@
 #include <stdlib.h>
 #include <string.h>
 
+#ifdef HAVE_LANGINFO_CODESET
 #include <langinfo.h>
+#endif
 #include <locale.h>
 #include <wchar.h>
 #include <wctype.h>
